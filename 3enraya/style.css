/* === RESET Y ESTILOS BASE === */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; font-family: 'Arial', sans-serif; background-image: url('img/portada.png'); background-size: cover; background-position: center center; background-repeat: no-repeat; background-attachment: fixed; background-color: #1e6a8c; color: #fff; text-align: center; padding: 0; }

/* === CLASE UTILITARIA PARA OCULTAR ELEMENTOS === */
.oculto { display: none !important; }

/* === PANTALLA INICIAL === */
#pantalla-inicial { width: 100%; height: 100vh; display: flex; flex-direction: column; justify-content: flex-end; align-items: center; padding: 20px; padding-bottom: 5vh; }
#boton-comenzar { padding: 18px 35px; font-size: clamp(1.2rem, 5vw, 1.8rem); font-weight: bold; color: #1f7a8c; background: linear-gradient(45deg, #f7ff00, #ffb700); border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4); transition: transform 0.2s ease-out, box-shadow 0.2s ease-out, background 0.3s ease; animation: pulsoBrillante 2s infinite ease-in-out; max-width: 90%; }
#boton-comenzar:hover { transform: scale(1.05); box-shadow: 0 8px 20px rgba(255, 196, 0, 0.7); background: linear-gradient(45deg, #fff8a0, #ffc94d); }
#boton-comenzar:active { transform: scale(0.98); box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4); }
@keyframes pulsoBrillante { 0%, 100% { box-shadow: 0 5px 15px rgba(255, 217, 0, 0.5); } 50% { box-shadow: 0 5px 30px rgba(255, 217, 0, 0.9); } }


/* === PANTALLA DE SELECCIÓN DE FICHAS === */
#pantalla-seleccion-fichas { width: 100%; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; background-color: rgba(30, 106, 140, 0.7); backdrop-filter: blur(5px); color: #fff; }
#titulo-seleccion { font-size: clamp(1.8rem, 6vw, 2.8rem); margin-bottom: 15px; text-shadow: 1px 1px 3px rgba(0,0,0,0.5); }
#instruccion-seleccion { font-size: clamp(1.1rem, 4vw, 1.5rem); margin-bottom: 30px; font-weight: bold; }
#contenedor-fichas-disponibles { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-bottom: 30px; max-width: 90%; }
.ficha-seleccionable { width: clamp(60px, 18vw, 90px); height: clamp(60px, 18vw, 90px); border: 3px solid transparent; border-radius: 50%; cursor: pointer; transition: transform 0.2s ease, border-color 0.2s ease, opacity 0.3s ease; background-color: rgba(255, 255, 255, 0.1); box-shadow: 0 3px 6px rgba(0,0,0,0.3); object-fit: contain; padding: 5px; }
.ficha-seleccionable:hover { transform: scale(1.1); border-color: #fff; }
.ficha-seleccionable.seleccionada { opacity: 0.5; cursor: not-allowed; transform: scale(0.95); border-color: #888; }
.ficha-seleccionable.seleccionada:hover { transform: scale(0.95); border-color: #888; }
#fichas-elegidas { margin-top: 20px; font-size: 1rem; display: flex; align-items: center; gap: 15px; background-color: rgba(0,0,0,0.2); padding: 8px 15px; border-radius: 10px; }
#fichas-elegidas img { width: 25px; height: 25px; border-radius: 50%; vertical-align: middle; }

/* === CONTENEDOR DEL JUEGO === */
#juego-contenedor { display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; min-height: 100vh; padding: 20px; background-color: rgba(30, 106, 140, 0.5); backdrop-filter: blur(3px); }

/* === MARCADOR ESTILO ESTADIO CON FOTOS === */
#marcador { display: flex; align-items: center; justify-content: center; gap: 15px; background-color: #1a1a1a; border: 4px solid #444; border-radius: 15px; padding: 15px 25px; margin-bottom: 30px; width: 90%; max-width: 420px; box-shadow: 0 5px 10px rgba(0,0,0,0.5), inset 0 0 8px rgba(0,0,0,0.4); }
.marcador-jugador { display: flex; flex-direction: column; align-items: center; gap: 8px; }
.foto-jugador { width: clamp(50px, 15vw, 70px); height: clamp(50px, 15vw, 70px); border-radius: 50%; border: 3px solid #555; object-fit: cover; background-color: #333; box-shadow: 0 2px 4px rgba(0,0,0,0.3); transition: border-color 0.3s ease, transform 0.3s ease; }
.foto-jugador.activa { border-color: #f0e68c; transform: scale(1.1); box-shadow: 0 0 15px rgba(240, 230, 140, 0.6); }
.nombre-jugador { font-size: clamp(0.8rem, 2.2vw, 1rem); font-weight: bold; color: #bbb; text-transform: uppercase; letter-spacing: 1px; }
.puntaje-jugador { font-family: 'Courier New', Courier, monospace; font-size: clamp(2.5rem, 9vw, 3.5rem); font-weight: bold; color: #f0e68c; line-height: 1; background-color: #111; padding: 5px 10px; border-radius: 5px; min-width: 1.5em; text-align: center; text-shadow: 0 0 5px rgba(240, 230, 140, 0.5); }
.marcador-separador { font-size: clamp(2rem, 7vw, 3rem); font-weight: bold; color: #777; line-height: 1; padding-bottom: 5px; }

/* === TEXTO INFORMATIVO (Turno/Resultado) === */
#info-turno {
    font-size: clamp(1.3rem, 5.5vw, 1.8rem);
    margin-bottom: 25px;
    font-weight: bold;
    background-color: rgba(0, 0, 0, 0.4);
    padding: 15px 25px; /* Más padding */
    border-radius: 15px;
    min-height: 1.5em;
    line-height: 1.4;
    color: #fff;
    transition: background-color 0.5s ease, transform 0.5s ease; /* Transición suave */
}

/* NUEVO: Estilo para el mensaje de fin de PARTIDO */
#info-turno.partido-ganado {
    background-color: #ffc107; /* Fondo amarillo/dorado */
    color: #333; /* Texto oscuro para contraste */
    font-size: clamp(1.5rem, 7vw, 2.5rem); /* Más grande */
    font-weight: bolder; /* Más negrita */
    padding: 25px 30px; /* Más padding */
    border: 3px solid #fff; /* Borde blanco */
    transform: scale(1.05); /* Ligeramente más grande */
    box-shadow: 0 0 20px rgba(255, 193, 7, 0.7); /* Brillo exterior */
}

/* === TABLERO 3x3 === */
#tablero { display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); gap: 8px; width: 90%; max-width: 350px; aspect-ratio: 1 / 1; background-color: rgba(255, 255, 255, 0.15); padding: 8px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }

/* === CELDAS INDIVIDUALES === */
.celda { background-color: rgba(255, 255, 255, 0.85); border-radius: 5px; display: flex; justify-content: center; align-items: center; font-size: clamp(3rem, 15vw, 5rem); font-weight: bold; color: #333; cursor: pointer; transition: background-color 0.2s ease; user-select: none; -webkit-tap-highlight-color: transparent; overflow: hidden; }
.celda:hover { background-color: rgba(255, 255, 255, 1); }
.celda.ganadora { background-color: #ffd700; }

/* === ANIMACIÓN Y ESTILO DE LA FICHA EN EL TABLERO === */
.ficha-en-tablero { width: 85%; height: 85%; object-fit: contain; animation-name: aparecerMarca; animation-duration: 0.3s; animation-timing-function: ease-out; }
@keyframes aparecerMarca { from { opacity: 0; transform: scale(0.3); } to { opacity: 1; transform: scale(1); } }

/* === BOTÓN DE REINICIO === */
#boton-reiniciar { margin-top: 30px; padding: 12px 25px; font-size: clamp(1rem, 4vw, 1.5rem); font-weight: bold; color: #fff; background: linear-gradient(45deg, #2193b0, #1f7a8c); border: 2px solid #fff; border-radius: 30px; cursor: pointer; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); transition: transform 0.2s ease-out, box-shadow 0.2s ease-out, background 0.3s ease; max-width: 90%; }
#boton-reiniciar:hover { transform: scale(1.05); box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4); background: linear-gradient(45deg, #6dd5ed, #2aabd1); }
#boton-reiniciar:active { transform: scale(0.98); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); }
#juego-contenedor.oculto #boton-reiniciar { display: none; }
